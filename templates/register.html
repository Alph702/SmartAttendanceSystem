{% extends "base.html" %} {% block content %}
<!-- Back Button (Mobile Only via CSS) -->
<a href="/" class="fullscreen-back-btn">
  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
    stroke-linecap="round" stroke-linejoin="round">
    <path d="M19 12H5" />
    <path d="M12 19l-7-7 7-7" />
  </svg>
</a>

<div class="container" id="mainContainer">
  <!-- Header (Hidden on Mobile Fullscreen via CSS) -->
  <h2 class="desktop-header" style="
      margin-bottom: 2rem;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      padding-bottom: 1rem;
    ">
    Register New User
  </h2>

  <!-- Video Container -->
  <div class="fullscreen-video-container">
    <video id="videoElement" autoplay playsinline muted></video>
    <canvas id="overlayCanvas"></canvas>
    <canvas id="captureCanvas" style="display: none"></canvas>
  </div>

  <!-- Controls -->
  <div class="bottom-sheet">
    <h3 class="mobile-only" style="color: var(--primary-yellow); margin-bottom: 0.5rem; display: none">
      Register Face
    </h3>

    <div>
      <label style="
          display: block;
          margin-bottom: 0.5rem;
          color: var(--text-muted);
          font-size: 0.9rem;
        ">Full Name</label>
      <input type="text" id="username" placeholder="e.g. John Doe" />
    </div>

    <div style="display: flex; flex-direction: column; gap: 1rem">
      <button id="captureBtn" class="btn btn-primary" style="width: 100%">
        Capture & Register
      </button>
      <div id="statusArea" style="min-height: 20px"></div>
    </div>
  </div>
</div>

<script src="{{ url_for('static', filename='js/register.js') }}"></script>
{% endblock %}